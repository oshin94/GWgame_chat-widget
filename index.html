<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Widget</title>
    <script src="https://unpkg.com/@buildshipapp/chat-widget@^1" defer></script>
    <style>
        /* Make sure the chat widget takes available space */
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden; /* Avoid double scrollbars */
        }

        #chat-container {
            height: 100vh; /* 100% of the viewport height */
            display: flex;
            flex-direction: column;
            justify-content: flex-end; /* Make sure input is at the bottom */
        }

        /* Adjust layout when keyboard is open */
        @media (max-width: 768px) {
            #chat-container {
                height: calc(100vh - 50px); /* Adjust this value based on the input field's height */
            }
        }
    </style>
</head>
<body>
    <div id="chat-container">
        <!-- Button to open the widget -->
        <button data-buildship-chat-widget-button>Open Chat</button>
    </div>

    <script>
        function adjustScrollForMobile() {
            const inputField = document.querySelector('[data-buildship-chat-widget-button]'); // Or the specific input field for the chat widget
            if (inputField) {
                inputField.addEventListener('focus', () => {
                    // Wait a moment for the keyboard to open
                    setTimeout(() => {
                        inputField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 300); // Adjust delay if needed
                });
            }
        }

        window.addEventListener('load', () => {
            adjustScrollForMobile();
            
            // Initialize your chat widget
            window.buildShipChatWidget.config.url = "https://dz3l1w.buildship.run/groundwater";
            window.buildShipChatWidget.config.greetingMessage = "Hi Player!!! Imagine you are a new entrant in the development sector placed in a rural Indian village, you have an exciting career ahead. But for that you have to find innovative solutions to challenges you will face in your career. Keep your answers descriptive and not just 2-4 words. When you are ready, type START and press enter.";
            window.buildShipChatWidget.config.closeOnOutsideClick = false;
            window.buildShipChatWidget.config.openOnLoad = true;
        });
    </script>
</body>
</html>
